(function(a){function b(a,b){var c=decodeURIComponent(a);if(c.length<=b)return a;var d=c.substring(0,b-1).lastIndexOf(" ");return c=encodeURIComponent(c.substring(0,d))+"…",c}function c(b){var c=a('meta[name="'+b+'"]').attr("content");return c||""}function d(){var b=c("DC.title"),d=c("DC.creator");return b.length>0&&d.length>0?b+=" - "+d:b=a("title").text(),encodeURIComponent(b)}function e(){var b=document.location.href,c=a("link[rel=canonical]").attr("href");return c&&c.length>0&&(c.indexOf("http")<0&&(c=document.location.protocol+"//"+document.location.host+c),b=c),b}function f(a,b,c,d){var e=new Date;e.setTime(e.getTime()+c*24*60*60*1e3),document.cookie=a+"="+b+"; expires="+e.toUTCString()+"; path="+d+";"}function g(a,b,c){var d=new Date;d.setTime(d.getTime()-100),document.cookie=a+"="+b+"; expires="+d.toUTCString()+"; path="+c+";"}"use strict",a.fn.socialSharePrivacy=function(c){var h={services:{facebook:{status:"on",dummy_img:"socialshareprivacy/images/dummy_facebook.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Facebook senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_fb_off:"nicht mit Facebook verbunden",txt_fb_on:"mit Facebook verbunden",perma_option:"on",display_name:"Facebook",referrer_track:"",language:"de_DE",action:"recommend"},twitter:{status:"on",dummy_img:"socialshareprivacy/images/dummy_twitter.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Twitter senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_twitter_off:"nicht mit Twitter verbunden",txt_twitter_on:"mit Twitter verbunden",perma_option:"on",display_name:"Twitter",referrer_track:"",tweet_text:d,language:"en"},gplus:{status:"on",dummy_img:"socialshareprivacy/images/dummy_gplus.png",txt_info:"2 Klicks f&uuml;r mehr Datenschutz: Erst wenn Sie hier klicken, wird der Button aktiv und Sie k&ouml;nnen Ihre Empfehlung an Google+ senden. Schon beim Aktivieren werden Daten an Dritte &uuml;bertragen &ndash; siehe <em>i</em>.",txt_gplus_off:"nicht mit Google+ verbunden",txt_gplus_on:"mit Google+ verbunden",perma_option:"on",display_name:"Google+",referrer_track:"",language:"de"}},info_link:"http://www.heise.de/ct/artikel/2-Klicks-fuer-mehr-Datenschutz-1333879.html",txt_help:"Wenn Sie diese Felder durch einen Klick aktivieren, werden Informationen an Facebook, Twitter oder Google in die USA &uuml;bertragen und unter Umst&auml;nden auch dort gespeichert. N&auml;heres erfahren Sie durch einen Klick auf das <em>i</em>.",settings_perma:"Dauerhaft aktivieren und Daten&uuml;ber&shy;tragung zustimmen:",cookie_path:"/",cookie_domain:document.location.host,cookie_expires:"365",css_path:"socialshareprivacy/socialshareprivacy.css",uri:e},i=a.extend(!0,h,c),j=i.services.facebook.status==="on",k=i.services.twitter.status==="on",l=i.services.gplus.status==="on";if(!j&&!k&&!l)return;return i.css_path.length>0&&(document.createStyleSheet?document.createStyleSheet(i.css_path):a("head").append('<link rel="stylesheet" type="text/css" href="'+i.css_path+'" />')),this.each(function(){a(this).prepend('<ul class="social_share_privacy_area"></ul>');var c=a(".social_share_privacy_area",this),d=i.uri;typeof d=="function"&&(d=d(c));if(j){var e=encodeURIComponent(d+i.services.facebook.referrer_track),h='<iframe src="http://www.facebook.com/plugins/like.php?locale='+i.services.facebook.language+"&amp;href="+e+"&amp;send=false&amp;layout=button_count&amp;width=120&amp;show_faces=false&amp;action="+i.services.facebook.action+'&amp;colorscheme=light&amp;font&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:145px; height:21px;" allowTransparency="true"></iframe>',m='<img src="'+i.services.facebook.dummy_img+'" alt="Facebook &quot;Like&quot;-Dummy" class="fb_like_privacy_dummy" />';c.append('<li class="facebook help_info"><span class="info">'+i.services.facebook.txt_info+'</span><span class="switch off">'+i.services.facebook.txt_fb_off+'</span><div class="fb_like dummy_btn">'+m+"</div></li>");var n=a("li.facebook",c);a("li.facebook div.fb_like img.fb_like_privacy_dummy,li.facebook span.switch",c).live("click",function(){n.find("span.switch").hasClass("off")?(n.addClass("info_off"),n.find("span.switch").addClass("on").removeClass("off").html(i.services.facebook.txt_fb_on),n.find("img.fb_like_privacy_dummy").replaceWith(h)):(n.removeClass("info_off"),n.find("span.switch").addClass("off").removeClass("on").html(i.services.facebook.txt_fb_off),n.find(".fb_like").html(m))})}if(k){var o=i.services.twitter.tweet_text;typeof o=="function"&&(o=o()),o=b(o,"120");var p=encodeURIComponent(d+i.services.twitter.referrer_track),q=encodeURIComponent(d),r='<iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+p+"&amp;counturl="+q+"&amp;text="+o+"&amp;count=horizontal&amp;lang="+i.services.twitter.language+'" style="width:130px; height:25px;"></iframe>',s='<img src="'+i.services.twitter.dummy_img+'" alt="&quot;Tweet this&quot;-Dummy" class="tweet_this_dummy" />';c.append('<li class="twitter help_info"><span class="info">'+i.services.twitter.txt_info+'</span><span class="switch off">'+i.services.twitter.txt_twitter_off+'</span><div class="tweet dummy_btn">'+s+"</div></li>");var t=a("li.twitter",c);a("li.twitter div.tweet img,li.twitter span.switch",c).live("click",function(){t.find("span.switch").hasClass("off")?(t.addClass("info_off"),t.find("span.switch").addClass("on").removeClass("off").html(i.services.twitter.txt_twitter_on),t.find("img.tweet_this_dummy").replaceWith(r)):(t.removeClass("info_off"),t.find("span.switch").addClass("off").removeClass("on").html(i.services.twitter.txt_twitter_off),t.find(".tweet").html(s))})}if(l){var u=d+i.services.gplus.referrer_track,v='<div class="g-plusone" data-size="medium" data-href="'+u+'"></div><script type="text/javascript">window.___gcfg = {lang: "'+i.services.gplus.language+'"}; (function() { var po = document.createElement("script"); po.type = "text/javascript"; po.async = true; po.src = "https://apis.google.com/js/plusone.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(po, s); })(); </script>',w='<img src="'+i.services.gplus.dummy_img+'" alt="&quot;Google+1&quot;-Dummy" class="gplus_one_dummy" />';c.append('<li class="gplus help_info"><span class="info">'+i.services.gplus.txt_info+'</span><span class="switch off">'+i.services.gplus.txt_gplus_off+'</span><div class="gplusone dummy_btn">'+w+"</div></li>");var x=a("li.gplus",c);a("li.gplus div.gplusone img,li.gplus span.switch",c).live("click",function(){x.find("span.switch").hasClass("off")?(x.addClass("info_off"),x.find("span.switch").addClass("on").removeClass("off").html(i.services.gplus.txt_gplus_on),x.find("img.gplus_one_dummy").replaceWith(v)):(x.removeClass("info_off"),x.find("span.switch").addClass("off").removeClass("on").html(i.services.gplus.txt_gplus_off),x.find(".gplusone").html(w))})}c.append('<li class="settings_info"><div class="settings_info_menu off perma_option_off"><a href="'+i.info_link+'"><span class="help_info icon"><span class="info">'+i.txt_help+"</span></span></a></div></li>"),a(".help_info:not(.info_off)",c).live("mouseenter",function(){var b=a(this),c=window.setTimeout(function(){a(b).addClass("display")},500);a(this).data("timeout_id",c)}),a(".help_info",c).live("mouseleave",function(){var b=a(this).data("timeout_id");window.clearTimeout(b),a(this).hasClass("display")&&a(this).removeClass("display")});var y=i.services.facebook.perma_option==="on",z=i.services.twitter.perma_option==="on",A=i.services.gplus.perma_option==="on";if((j&&y||k&&z||l&&A)&&typeof JSON=="object"){var B=document.cookie.split(";"),C="{",D=0;for(;D<B.length;D+=1){var E=B[D].split("=");C+='"'+a.trim(E[0])+'":"'+a.trim(E[1])+'"',D<B.length-1&&(C+=",")}C+="}",C=JSON.parse(C);var F=a("li.settings_info",c);F.find(".settings_info_menu").removeClass("perma_option_off"),F.find(".settings_info_menu").append('<span class="settings">Einstellungen</span><form><fieldset><legend>'+i.settings_perma+"</legend></fieldset></form>");var G=' checked="checked"';if(j&&y){var H=C.socialSharePrivacy_facebook==="perma_on"?G:"";F.find("form fieldset").append('<input type="checkbox" name="perma_status_facebook" id="perma_status_facebook"'+H+' /><label for="perma_status_facebook">'+i.services.facebook.display_name+"</label>")}if(k&&z){var I=C.socialSharePrivacy_twitter==="perma_on"?G:"";F.find("form fieldset").append('<input type="checkbox" name="perma_status_twitter" id="perma_status_twitter"'+I+' /><label for="perma_status_twitter">'+i.services.twitter.display_name+"</label>")}if(l&&A){var J=C.socialSharePrivacy_gplus==="perma_on"?G:"";F.find("form fieldset").append('<input type="checkbox" name="perma_status_gplus" id="perma_status_gplus"'+J+' /><label for="perma_status_gplus">'+i.services.gplus.display_name+"</label>")}F.find("span.settings").css("cursor","pointer"),a(F.find("span.settings"),c).live("mouseenter",function(){var b=window.setTimeout(function(){F.find(".settings_info_menu").removeClass("off").addClass("on")},500);a(this).data("timeout_id",b)}),a(F,c).live("mouseleave",function(){var b=a(this).data("timeout_id");window.clearTimeout(b),F.find(".settings_info_menu").removeClass("on").addClass("off")}),a(F.find("fieldset input")).live("click",function(b){var d=b.target.id,e=d.substr(d.lastIndexOf("_")+1,d.length),h="socialSharePrivacy_"+e;a("#"+b.target.id+":checked").length?(f(h,"perma_on",i.cookie_expires,i.cookie_path),a("form fieldset label[for="+d+"]",c).addClass("checked")):(g(h,"perma_on",i.cookie_path),a("form fieldset label[for="+d+"]",c).removeClass("checked"))}),j&&y&&C.socialSharePrivacy_facebook==="perma_on"&&a("li.facebook span.switch",c).click(),k&&z&&C.socialSharePrivacy_twitter==="perma_on"&&a("li.twitter span.switch",c).click(),l&&A&&C.socialSharePrivacy_gplus==="perma_on"&&a("li.gplus span.switch",c).click()}})}})(jQuery)